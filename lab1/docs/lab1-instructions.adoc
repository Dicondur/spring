:noaudio:
:scrollbar:
:data-uri:
:toc2:

= Lab 1: Getting Started with Spring and Spring Boot

In this lab, you will learn the basics of Spring development and how to get started with a Spring Boot project. 

== Background

In the past Spring has gotten a lot of criticism for beeing hard to get started with. This has however been addressed by the Spring community with the Spring Boot project and the Spring Initalizer service hosted at http://start.spring.io. However booth Spring Boot and Spring Initalizer takes an opinonated approach to which frameworks and 3rd party library to use. In a similar manner Red Hat provides a service at launch.opeenshift.io that will take an opinionated approach at which frameworks and target platfrom (OpenShift) you are developing for. 

Since this lab aims to teach you have to work with existing Spring application and run it on RHOAR we are going to use the Spring Initalizer. Alternatively we could have used launch.openshift.io or JBoss Forge to initiate the project, however that would have shortcutted some of the steps that are important for your understanding of how to run Spring on RHOAR.

= Steps

:numbered:

== Initiate the project using Spring Initalizer

1. Open a browser to http://start.spring.io and enter the following information

+
Generate a **Maven project** with **Java** and Spring Boot **1.5.4**
+
[options="header,footer,autowidth"]
|=======
|Attribute|Value
|Group |com.redhat.coolstore
|Artifact |product-catalog
|Dependencies | _Leave Blank_
|=======
+
image::images/spring-initilizer.png[Spring initilizer]

1. Click Generate project
1. Open a terminal and unzip the downloaded project
+
[source,bash]
----
mkdir -p ~/rhoar-training/spring
cd ~/rhoar-training/spring
unzip ~/Downloads/product-catalog.zip 
----

1. Test to build the project  
+
[source,bash]
----
cd product-catalog
mvn clean package
----

== Create your first Component

1. Create a Java class named `ProductCatalogService` in package `com.redhat.coolstore.productcatalog`

2. Annotate the class with `@Component` from `import org.springframework.stereotype.Component`

3. Add a **public** method called `getDefaultProductList` returning a `String[]` like this
+
[source,java]
---- 
    public String[] getDefaultProductList() {
        return "Red Hat,Fedora, Cups".split(",");
    }
----

4. Inject the component into the `ProductCatalogApplicationTests`
+
[source,java]
---- 
@Autowire
ProductCatalogService service
----
+
Note: Autowire annotation requires that you add `import org.springframework.beans.factory.annotation.Autowired;`

5. Add a test method called `testDefaultProudctList`
+
[source,java]
---- 
    @Test
    public void testDefaultProductList() {
        String[] defaultList = service.getDefaultProductList();
        assertTrue(defaultList.length==3);
        assertEquals(defaultList[1],"Fedora");
    }
----
+
Note: test methods requires that you add the following import statements `import static org.junit.Assert.assertEquals;` and `import static org.junit.Assert.assertTrue;`
6. Run the tests either in your IDE or from commandline like this

[source,bash]
----
mvn verify
----

== Use environment specific application properties

TODO

== Add REST capabilities using Apache CXF

TODO

= Summary





